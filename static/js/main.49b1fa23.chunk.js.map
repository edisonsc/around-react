{"version":3,"sources":["images/vector-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Footer.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","name","link","id","length","Main","props","onEditAvatarClick","avatar","onEditProfileClick","about","onAddPlaceClick","cards","map","PopupWithForm","isOpen","onClose","title","noValidate","onSubmit","children","buttonName","ImagePopup","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","htmlFor","placeholder","minLength","maxLength","required","value","onChange","target","EditAvatarPopup","setValue","avatarRef","useRef","onUpdateAvatar","ref","AddPlacePopup","setLink","nameRef","linkRef","onAddPlace","Footer","api","baseUrl","headers","this","_baseUrl","_headers","_handleResponse","bind","res","ok","json","Promise","reject","status","fetch","then","data","method","body","JSON","stringify","likeStatus","addLike","deleteLike","authorization","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isImagePopupOpen","setIsImagePopupOpen","setCards","selectedCard","setSelectedCard","setCurrentUser","closeAllPopups","getUser","catch","err","console","log","getInitialCards","item","Provider","clickedCard","changeLikeStatus","newCard","state","c","deleteCard","deletedCard","filter","setUser","addCard","setAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.49b1fa23.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/vector-logo.4e8e0a1d.svg\";","import logo from \"../images/vector-logo.svg\";\n\nfunction Header() {\n  return (\n    <div>\n      <header className=\"header\">\n        <img src={logo} alt=\"logo\" className=\"logo\" />\n      </header>\n    </div>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { useContext } from \"react\";\n\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\n  const currentUser = useContext(CurrentUserContext);\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick () {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card)\n  }\n\n  // Checking if the current user is the owner of the current card\n  const isOwn = card.owner._id === currentUser._id;\n\n  // Creating a variable which you'll then set in `className` for the delete button\n  const cardDeleteButtonClassName = `photo-grid__delete-icon ${\n    isOwn ? \"photo-grid__delete-icon_visible\" : \"photo-grid__delete-icon_hidden\"\n  }`;\n\n//   // Check if the card was liked by the current user\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n// Create a variable which you then set in `className` for the like button\n const cardLikeButtonClassName = `opacity photo-grid__heart-icon ${\n  isLiked ? \"photo-grid__heart-icon_active\" : \"photo-grid__heart-icon_disabled\"\n }`; \n\n\n  return (\n    <div>\n      <li className=\"photo-grid__card\">\n        <button\n          aria-label=\"delete\"\n          type=\"button\"\n          className={cardDeleteButtonClassName}\n          onClick={handleDeleteClick}\n        ></button>\n        <img\n          className=\"photo-grid__image\"\n          alt={card.name}\n          src={card.link}\n          onClick={handleClick}\n        />\n        <div className=\"photo-grid__content\">\n          <h2 className=\"photo-grid__title\">{card.name}</h2>\n          <div className=\"photo-grid__likes\">\n            <button\n              aria-label=\"like\"\n              type=\"button\"\n              id=\"like\"\n              className={cardLikeButtonClassName}\n              onClick={handleLikeClick}\n            ></button>\n            <p className=\"photo-grid__text\">{card.likes.length}</p>\n          </div>\n        </div>\n      </li>\n    </div>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <div>\n      <main>\n        <section className=\"profile\">\n          <div className=\"profile__area\">\n            <button\n              type=\"button\"\n              aria-label=\"avatar\"\n              className=\"button profile__avatar-button\"\n              onClick={props.onEditAvatarClick}\n            >\n              <img\n                src={currentUser.avatar}\n                alt=\"Jacques Cousteau\"\n                className=\"profile__image\"\n              />\n            </button>\n            <div className=\"profile__name-area\">\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\n              <button\n                aria-label=\"edit\"\n                type=\"button\"\n                className=\"button profile__edit-button opacity\"\n                onClick={props.onEditProfileClick}\n              ></button>\n              <p className=\"profile__title\">{currentUser.about}</p>\n            </div>\n          </div>\n          <button\n            aria-label=\"add\"\n            type=\"button\"\n            className=\"button profile__add-button opacity\"\n            onClick={props.onAddPlaceClick}\n          ></button>\n        </section>\n\n        <section className=\"images\">\n          <ul className=\"photo-grid\">\n            {props.cards.map((card, id) => (\n              <Card\n                name={card.name}\n                link={card.link}\n                owner={card.owner}\n                _id={card._id}\n                likes={card.likes}\n                card={card}\n                onCardClick={props.onCardClick}\n                onCardLike={props.onCardLike}\n                onCardDelete={props.onCardDelete}\n                key={id}\n              />\n            ))}\n          </ul>\n        </section>\n      </main>\n    </div>\n  );\n}\n\nexport default Main;\n","function PopupWithForm(props) {\n  return (\n    <div>\n      <section\n        className={`popup popup_type_${props.name} ${\n          props.isOpen && \"popup_opened\"\n        }`}\n      >\n        <div className=\"popup__container\">\n          <button\n            aria-label=\"close\"\n            type=\"button\"\n            className=\"popup__close-button opacity\"\n            onClick={props.onClose}\n          ></button>\n          <h2 className=\"popup__heading\">{props.title}</h2>\n          <form\n            className=\"form\"\n            name={`${props.name}-form`}\n            noValidate\n            onSubmit={props.onSubmit}\n          >\n            {props.children}\n            <button\n              type=\"submit\"\n              className=\"form__button opacity\"\n              id=\"save-button\"\n            >\n              {props.buttonName}\n            </button>\n          </form>\n        </div>\n      </section>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","function ImagePopup({ card, isOpen, onClose }) {\n  return (\n    <div\n      className={`popup popup_type_${card.name} ${isOpen && \"popup_opened\"}`}\n    >\n      <div className=\"popup__container popup__container_type_preview\">\n        <button\n          aria-label=\"close\"\n          type=\"button\"\n          className=\"popup__close-button popup__close-button_type_preview opacity\"\n          onClick={onClose}\n        ></button>\n        <img src={card.link} alt={card.name} className=\"popup__image\" />\n        <h2 className=\"popup__caption\">{card.name}</h2>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n  // Subscription to the context\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n\n  // After loading the current user from the API\n  // their data will be used in managed components.\n  React.useEffect(() => {\n    if (currentUser) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }\n  }, [currentUser, props.isOpen]);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit\"\n      title=\"Edit profile\"\n      buttonName=\"Save\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      onUpdateUser={props.onUpdateUser}\n    >\n      <label htmlFor=\"name\" className=\"form__label\">\n        <input\n          type=\"text\"\n          className=\"form__input form__input_type_name\"\n          id=\"name\"\n          name=\"name\"\n          placeholder=\"Name\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          required\n          value={name || \"\"}\n          onChange={handleNameChange}\n        />\n        <span className=\"form__error\" id=\"name-error\" />\n      </label>\n      <label htmlFor=\"about\" className=\"form__label\">\n        <input\n          type=\"text\"\n          className=\"form__input form__input_type_title\"\n          id=\"about\"\n          name=\"about\"\n          placeholder=\"About me\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          required\n          value={description || \"\"}\n          onChange={handleDescriptionChange}\n        />\n        <span className=\"form__error\" id=\"about-error\" />\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\n\nfunction EditAvatarPopup(props) {\n  const [value, setValue] = React.useState(\"\");\n  const avatarRef = React.useRef(null);\n\n  function handleChange(e) {\n    setValue(e.target.value);\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: value,\n    });\n    setValue(\"\");\n  }\n\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Change profile picture\"\n      buttonName=\"Save\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      onUpdateAvatar={props.onUpdateAvatar}\n    >\n      <label htmlFor=\"link\" className=\"form__label\">\n        <input\n          type=\"url\"\n          className=\"form__input form__input_type_link\"\n          id=\"avatarLink\"\n          name=\"avatarLink\"\n          placeholder=\"Profile image link\"\n          onChange={handleChange}\n          ref={avatarRef}\n          value={value}\n          required\n        />\n        <span className=\"form__error\" id=\"avatarLink-error\" />\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  const nameRef = React.useRef(null);\n  const linkRef = React.useRef(null);\n\n  function handleTitleChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddPlace({\n      name: name,\n      link: link,\n    });\n    setLink(\"\");\n    setName(\"\");\n  }\n\n  return (\n    <PopupWithForm\n      name=\"add\"\n      title=\"New Place\"\n      buttonName=\"Create\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onAddPlace={props.onAddPlace}\n      onSubmit={handleSubmit}\n    >\n      <label htmlFor=\"name\" className=\"form__label\">\n        <input\n          type=\"text\"\n          className=\"form__input form__input_type_place\"\n          id=\"place-name\"\n          name=\"name\"\n          placeholder=\"Title\"\n          minLength=\"1\"\n          maxLength=\"30\"\n          required\n          value={name}\n          ref={nameRef}\n          onChange={handleTitleChange}\n        />\n        <span className=\"form__error\" id=\"place-name-error\" />\n      </label>\n      <label htmlFor=\"link\" className=\"form__label\">\n        <input\n          type=\"url\"\n          className=\"form__input form__input_type_link\"\n          id=\"link\"\n          name=\"link\"\n          placeholder=\"Image link\"\n          required\n          value={link}\n          ref={linkRef}\n          onChange={handleLinkChange}\n        />\n        <span className=\"form__error\" id=\"link-error\" />\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","function Footer() {\n  return (\n    <div>\n      <footer className=\"footer\">\n        <p className=\"footer__text\">&#169; 2021 Around The U.S.</p>\n      </footer>\n    </div>\n  );\n}\n\nexport default Footer;\n","class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n    this._handleResponse = this._handleResponse.bind(this);\n  }\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Error: ${res.status}`);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}cards`, {\n      headers: this._headers,\n    }).then(this._handleResponse);\n  }\n\n  addCard(data) {\n    return fetch(`${this._baseUrl}cards`, {\n      headers: this._headers,\n      method: \"POST\",\n      body: JSON.stringify(data),\n    }).then(this._handleResponse);\n  }\n\n  deleteCard(_id) {\n    return fetch(`${this._baseUrl}cards/${_id}`, {\n      headers: this._headers,\n      method: \"DELETE\",\n      body: JSON.stringify({\n        _id,\n      }),\n    }).then(this._handleResponse);\n  }\n\n  addLike(_id) {\n    return fetch(`${this._baseUrl}cards/likes/${_id}`, {\n      headers: this._headers,\n      method: \"PUT\",\n      body: JSON.stringify({\n        _id,\n      }),\n    }).then(this._handleResponse);\n  }\n\n  deleteLike(_id) {\n    return fetch(`${this._baseUrl}cards/likes/${_id}`, {\n      headers: this._headers,\n      method: \"DELETE\",\n      body: JSON.stringify({\n        _id,\n      }),\n    }).then(this._handleResponse);\n  }\n\n  changeLikeStatus(_id, likeStatus) {\n    if (likeStatus) {\n      return this.addLike(_id);\n    } else {\n      return this.deleteLike(_id);\n    }\n  }\n\n  getUser() {\n    return fetch(`${this._baseUrl}users/me`, {\n      headers: this._headers,\n    }).then(this._handleResponse);\n  }\n\n  setUser(name, about) {\n    return fetch(`${this._baseUrl}users/me`, {\n      headers: this._headers,\n      method: \"PATCH\",\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    }).then(this._handleResponse);\n  }\n\n  getAvatar() {\n    return fetch(`${this._baseUrl}users/me/avatar`, {\n      headers: this._headers,\n      method: \"GET\",\n    }).then(this._handleResponse);\n  }\n\n  setAvatar(avatar) {\n    return fetch(`${this._baseUrl}users/me/avatar`, {\n      headers: this._headers,\n      method: \"PATCH\",\n      body: JSON.stringify({\n        avatar,\n      }),\n    }).then(this._handleResponse);\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-11/\",\n  headers: {\n    authorization: \"ce0cfad9-c022-44c4-8673-897f4eaf9eed\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n","import { useState, useEffect } from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport Footer from \"./Footer\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [cards, setCards] = useState([]);\n  const [selectedCard, setSelectedCard] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n\n  useEffect(() => {\n    api\n      .getUser()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => console.log(`Error: ${err}`));\n  }, []);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(clickedCard) {\n    setSelectedCard(clickedCard);\n    setIsImagePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setSelectedCard({});\n  }\n\n  function handleUpdateUser({ name, about }) {\n    api\n      .setUser(name, about)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(`Error: ${err}`));\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    api\n      .setAvatar(avatar)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(`Error: ${err}`));\n  }\n\n  useEffect(() => {\n    api\n      .getInitialCards()\n      .then((data) => {\n        setCards(\n          data.map((item) => ({\n            name: item.name,\n            link: item.link,\n            likes: item.likes,\n            _id: item._id,\n            owner: item.owner,\n          }))\n        );\n      })\n      .catch((err) => console.log(`Error: ${err}`));\n  }, []);\n\n  function handleCardLike(card) {\n    // Check one more time if this card was already liked\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    // Send a request to the API and getting the updated card data\n    api\n      .changeLikeStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => console.log(`Error: ${err}`));\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then((deletedCard) => {\n        setCards((state) =>\n          state.filter((deletedCard) => deletedCard._id !== card._id)\n        );\n      })\n      .catch((err) => console.log(`Error: ${err}`));\n  }\n\n  function handleAddPlace(data) {\n    api.addCard(data).then((newCard) => {\n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    });\n  }\n\n  return (\n    <div className=\"root\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main\n          onEditAvatarClick={handleEditAvatarClick}\n          onEditProfileClick={handleEditProfileClick}\n          onAddPlaceClick={handleAddPlaceClick}\n          onCardClick={handleCardClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n        />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlace}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <PopupWithForm name=\"delete\" title=\"Are you sure?\" buttonName=\"Yes\">\n          <input\n            type=\"hidden\"\n            className=\"form__input form__input_type_card-id\"\n            id=\"id\"\n            name=\"id\"\n          />\n        </PopupWithForm>\n\n        <ImagePopup\n          card={selectedCard}\n          isOpen={isImagePopupOpen}\n          onClose={closeAllPopups}\n        />\n\n        <Footer />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}