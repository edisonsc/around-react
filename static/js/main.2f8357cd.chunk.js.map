{"version":3,"sources":["images/vector-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","utils/api.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/Footer.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","onCardDelete","name","link","onCardClick","id","onCardLike","length","api","baseUrl","headers","this","_baseUrl","_headers","_handleResponse","bind","res","ok","json","Promise","reject","status","fetch","then","data","method","body","JSON","stringify","liked","about","avatar","authorization","Main","onEditAvatarClick","onEditProfileClick","onAddPlaceClick","cards","map","PopupWithForm","isOpen","onClose","title","noValidate","onSubmit","children","buttonName","ImagePopup","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","htmlFor","placeholder","minLength","maxLength","required","value","onChange","target","EditAvatarPopup","setValue","avatarRef","useRef","onUpdateAvatar","ref","Footer","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isImagePopupOpen","setIsImagePopupOpen","setCards","selectedCard","setSelectedCard","setCurrentUser","closeAllPopups","getUser","catch","err","console","log","getInitialCards","item","Provider","clickedCard","addLike","newCard","state","c","deleteCard","deletedCard","filter","setUser","setAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2f8357cd.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/vector-logo.4e8e0a1d.svg\";","import logo from \"../images/vector-logo.svg\";\n\nfunction Header() {\n  return (\n    <div>\n      <header className=\"header\">\n        <img src={logo} alt=\"logo\" className=\"logo\" />\n      </header>\n    </div>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { useContext } from \"react\";\n\nfunction Card(props) {\n  const currentUser = useContext(CurrentUserContext);\n\n  function handleClick() {\n    props.onCardClick(props);\n  }\n\n  function handleLikeClick () {\n    props.onCardLike(props);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props)\n  }\n\n  // Checking if the current user is the owner of the current card\n  const isOwn = props.card.owner === currentUser._id;\n\n  // Creating a variable which you'll then set in `className` for the delete button\n  const cardDeleteButtonClassName = `photo-grid__delete-icon ${\n    isOwn ? \"photo-grid__delete-icon_visible\" : \"photo-grid__delete-icon_hidden\"\n  }`;\n\n//   // Check if the card was liked by the current user\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n\n// Create a variable which you then set in `className` for the like button\n const cardLikeButtonClassName = `opacity photo-grid__heart-icon ${\n  isLiked ? \"photo-grid__heart-icon_active\" : \"photo-grid__heart-icon\"\n }`; \n\n\n  return (\n    <div>\n      <li className=\"photo-grid__card\">\n        <button\n          aria-label=\"delete\"\n          type=\"button\"\n          className={cardDeleteButtonClassName}\n          onClick={handleDeleteClick}\n        ></button>\n        <img\n          className=\"photo-grid__image\"\n          alt={props.name}\n          src={props.link}\n          onClick={handleClick}\n        />\n        <div className=\"photo-grid__content\">\n          <h2 className=\"photo-grid__title\">{props.name}</h2>\n          <div className=\"photo-grid__likes\">\n            <button\n              aria-label=\"like\"\n              type=\"button\"\n              id=\"like\"\n              className={cardLikeButtonClassName}\n              onClick={handleLikeClick}\n            ></button>\n            <p className=\"photo-grid__text\">{props.likes.length}</p>\n          </div>\n        </div>\n      </li>\n    </div>\n  );\n}\n\nexport default Card;\n","class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n    this._handleResponse = this._handleResponse.bind(this);\n  }\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Error: ${res.status}`);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}cards`, {\n      headers: this._headers,\n    }).then(this._handleResponse);\n  }\n\n  addCard(data) {\n    return fetch(`${this._baseUrl}cards`, {\n      headers: this._headers,\n      method: \"POST\",\n      body: JSON.stringify(data),\n    }).then(this._handleResponse);\n  }\n\n  deleteCard(_id) {\n    return fetch(`${this._baseUrl}cards/${_id}`, {\n      headers: this._headers,\n      method: \"DELETE\",\n      body: JSON.stringify({\n        _id,\n      }),\n    }).then(this._handleResponse);\n  }\n\n  addLike(_id, liked) {\n    return fetch(`${this._baseUrl}cards/likes/${_id}`, {\n      headers: this._headers,\n      method: \"PUT\",\n      body: JSON.stringify({\n        _id,\n        liked\n      }),\n    }).then(this._handleResponse);\n  }\n\n  deleteLike(_id) {\n    return fetch(`${this._baseUrl}cards/likes/${_id}`, {\n      headers: this._headers,\n      method: \"DELETE\",\n      body: JSON.stringify({\n        _id,\n      }),\n    }).then(this._handleResponse);\n  }\n\n  getUser() {\n    return fetch(`${this._baseUrl}users/me`, {\n      headers: this._headers,\n    }).then(this._handleResponse);\n  }\n\n  setUser(name, about) {\n    return fetch(`${this._baseUrl}users/me`, {\n      headers: this._headers,\n      method: \"PATCH\",\n      body: JSON.stringify({\n        name,\n        about\n      }),\n    }).then(this._handleResponse);\n  }\n\n  getAvatar() {\n    return fetch(`${this._baseUrl}users/me/avatar`, {\n      headers: this._headers,\n      method: \"GET\",\n    }).then(this._handleResponse);\n  }\n\n  setAvatar(avatar) {\n    return fetch(`${this._baseUrl}users/me/avatar`, {\n      headers: this._headers,\n      method: \"PATCH\",\n      body: JSON.stringify({\n        avatar,\n      }),\n    }).then(this._handleResponse);\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-11/\",\n  headers: {\n    authorization: \"ce0cfad9-c022-44c4-8673-897f4eaf9eed\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n","import { useEffect, useState, useContext } from \"react\";\nimport Card from \"./Card\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n  \n  const currentUser = useContext(CurrentUserContext);\n\n  \n  \n\n  return (\n    <div>\n      <main>\n        <section className=\"profile\">\n          <div className=\"profile__area\">\n            <button\n              type=\"button\"\n              aria-label=\"avatar\"\n              className=\"button profile__avatar-button\"\n              onClick={props.onEditAvatarClick}\n            >\n              <img\n                src={currentUser.avatar}\n                alt=\"Jacques Cousteau\"\n                className=\"profile__image\"\n              />\n            </button>\n            <div className=\"profile__name-area\">\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\n              <button\n                aria-label=\"edit\"\n                type=\"button\"\n                className=\"button profile__edit-button opacity\"\n                onClick={props.onEditProfileClick}\n              ></button>\n              <p className=\"profile__title\">{currentUser.about}</p>\n            </div>\n          </div>\n          <button\n            aria-label=\"add\"\n            type=\"button\"\n            className=\"button profile__add-button opacity\"\n            onClick={props.onAddPlaceClick}\n          ></button>\n        </section>\n\n        <section className=\"images\">\n          <ul className=\"photo-grid\">\n            {props.cards.map((card) => (\n              <Card\n                name={card.name}\n                link={card.link}\n                key={card.id}\n                likes={card.likes}\n                card={card}\n                onCardClick={props.onCardClick}\n                onCardLike={props.onCardLike}\n                onCardDelete={props.onCardDelete}\n              />\n            ))}\n          </ul>\n        </section>\n      </main>\n    </div>\n  );\n}\n\nexport default Main;\n","function PopupWithForm(props) {\n  return (\n    <div>\n      <section\n        className={`popup popup_type_${props.name} ${\n          props.isOpen && \"popup_opened\"\n        }`}\n      >\n        <div className=\"popup__container\">\n          <button\n            aria-label=\"close\"\n            type=\"button\"\n            className=\"popup__close-button opacity\"\n            onClick={props.onClose}\n          ></button>\n          <h2 className=\"popup__heading\">{props.title}</h2>\n          <form className=\"form\" name={`${props.name}-form`} noValidate onSubmit={props.onSubmit}>\n            {props.children}\n            <button\n              type=\"submit\"\n              className=\"form__button opacity\"\n              id=\"save-button\"\n            >\n              {props.buttonName}\n            </button>\n          </form>\n        </div>\n      </section>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","function ImagePopup(props) {\n  return (\n  \n    <div className={`popup popup_type_${props.card.name} ${props.isOpen && 'popup_opened'}`}> \n  \n      <div className=\"popup__container popup__container_type_preview\">\n        <button\n          aria-label=\"close\"\n          type=\"button\"\n          className=\"popup__close-button popup__close-button_type_preview opacity\"\n          onClick={props.onClose}\n        ></button>\n        <img\n          src={props.card.link}\n          alt={props.card.name}\n          className=\"popup__image\"\n        />\n        <h2 className=\"popup__caption\">{props.card.name}</h2>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n\n// Subscription to the context\nconst currentUser = React.useContext(CurrentUserContext);\n\nconst [name, setName] = React.useState('');\nconst [description, setDescription] = React.useState('')\n\n// After loading the current user from the API\n// their data will be used in managed components.\nReact.useEffect(() => {\n  if(currentUser){\n  setName(currentUser.name);\n  setDescription(currentUser.about);\n  }\n}, [currentUser, props.isOpen]);\n\n\nfunction handleNameChange(e){\n    setName(e.target.value);\n}\n\nfunction handleDescriptionChange(e){\nsetDescription(e.target.value)\n}\n\nfunction handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  } \n\n \nreturn(\n<PopupWithForm\n        name=\"edit\"\n        title=\"Edit profile\"\n        buttonName=\"Save\"\n        isOpen={props.isOpen}\n        onClose={props.onClose}\n        onSubmit={handleSubmit}\n        onUpdateUser={props.onUpdateUser}\n      >\n        <label htmlFor=\"name\" className=\"form__label\">\n          <input\n            type=\"text\"\n            className=\"form__input form__input_type_name\"\n            id=\"name\"\n            name=\"name\"\n            placeholder=\"Name\"\n            minLength=\"2\"\n            maxLength=\"40\"\n            required\n            value={name || ''}\n            onChange={handleNameChange}\n          />\n          <span className=\"form__error\" id=\"name-error\"/>\n        </label>\n        <label htmlFor=\"about\" className=\"form__label\">\n          <input\n            type=\"text\"\n            className=\"form__input form__input_type_title\"\n            id=\"about\"\n            name=\"about\"\n            placeholder=\"About me\"\n            minLength=\"2\"\n            maxLength=\"200\"\n            required\n            value={description || ''}\n            onChange={handleDescriptionChange}\n          />\n          <span className=\"form__error\" id=\"about-error\"/>\n        </label>\n      </PopupWithForm>\n)\n}\n\nexport default EditProfilePopup","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\n\nfunction EditAvatarPopup(props) {\n\n  const [value, setValue] = React.useState('');\n  const avatarRef = React.useRef(null);\n\n  function handleChange(e) {\n   setValue(e.target.value);\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar:  value ,\n    });\n    setValue('')\n  }\n\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Change profile picture\"\n      buttonName=\"Save\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      onUpdateAvatar={props.onUpdateAvatar}\n    >\n      <label htmlFor=\"link\" className=\"form__label\">\n        <input\n          type=\"url\"\n          className=\"form__input form__input_type_link\"\n          id=\"avatarLink\"\n          name=\"avatarLink\"\n          placeholder=\"Profile image link\"\n          onChange={handleChange}\n          ref={avatarRef}\n          value= {value}\n          required\n        />\n        <span className=\"form__error\" id=\"avatarLink-error\" />\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","function Footer() {\n  return (\n    <div>\n      <footer className=\"footer\">\n        <p className=\"footer__text\">&#169; 2021 Around The U.S.</p>\n      </footer>\n    </div>\n  );\n}\n\nexport default Footer;\n","import { useState, useEffect } from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport Footer from \"./Footer\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false)\n  const [cards, setCards] = useState([]);\n  const [selectedCard, setSelectedCard] = useState({})\n  const [currentUser, setCurrentUser] = useState({})\n\n\n  useEffect(() => {\n    api.getUser().then((data) => {\n      setCurrentUser(data);\n    })\n    .catch((err) => console.log(`Error: ${err}`));\n  }, []);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(clickedCard) {\n    setSelectedCard(clickedCard);\n    setIsImagePopupOpen(true)\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setSelectedCard({});\n  }\n\n   function handleUpdateUser({name, about}) {\n    api.setUser(name, about).then((data) => {\n    setCurrentUser(data);\n    closeAllPopups()\n  })\n   .catch((err) => console.log(`Error: ${err}`));\n  }\n\n\n function handleUpdateAvatar({avatar}){\n   api.setAvatar(avatar).then((data) => {\n    setCurrentUser(data);\n    closeAllPopups()\n   })\n   .catch((err) => console.log(`Error: ${err}`));\n   }\n\n   useEffect(() => {\n    api\n      .getInitialCards()\n      .then((data) => {\n        setCards(\n          data.map((item) => ({\n            name: item.name,\n            link: item.link,\n            likes: item.likes,\n            id: item._id,\n            owner: item.owner._id,\n          }))\n        );\n      })\n      .catch((err) => console.log(`Error: ${err}`));\n  }, []);\n  \n  function handleCardLike(card) {\n    // Check one more time if this card was already liked\n    const isLiked = card.card.likes.some((i) => i._id === currentUser._id);\n    // Send a request to the API and getting the updated card data\n\n    api.addLike(card.card.id, !isLiked).then((newCard) => {\n      setCards((state) =>\n        state.map((c) => (c._id === card.card.id ? newCard : c))\n      );\n    });\n  }\n  function handleCardDelete(card) {\n    api.deleteCard(card.card.id).then((deletedCard) =>{\n      setCards((state) => \n      state.filter((c) => (c._id === deletedCard.id)))\n    });\n  }\n  \n  return (\n   \n    <div className=\"root\">\n       <CurrentUserContext.Provider value={currentUser}>\n      <Header />\n      <Main\n        onEditAvatarClick={handleEditAvatarClick}\n        onEditProfileClick={handleEditProfileClick}\n        onAddPlaceClick={handleAddPlaceClick}\n        onCardClick={handleCardClick}\n        cards ={cards}\n        onCardLike={handleCardLike}\n        onCardDelete={handleCardDelete}\n      />\n      <EditProfilePopup \n      isOpen={isEditProfilePopupOpen} \n      onClose={closeAllPopups} \n      onUpdateUser={handleUpdateUser}\n      />\n\n      <PopupWithForm\n        name=\"add\"\n        title=\"New Place\"\n        buttonName=\"Create\"\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n      >\n        <label htmlFor=\"name\" className=\"form__label\">\n          <input\n            type=\"text\"\n            className=\"form__input form__input_type_place\"\n            id=\"place-name\"\n            name=\"name\"\n            placeholder=\"Title\"\n            minLength=\"1\"\n            maxLength=\"30\"\n            required\n          />\n          <span className=\"form__error\" id=\"place-name-error\"/>\n        </label>\n        <label htmlFor=\"link\" className=\"form__label\">\n          <input\n            type=\"url\"\n            className=\"form__input form__input_type_link\"\n            id=\"link\"\n            name=\"link\"\n            placeholder=\"Image link\"\n            required\n          />\n          <span className=\"form__error\" id=\"link-error\"/>\n        </label>\n      </PopupWithForm>\n\n      <EditAvatarPopup \n      isOpen={isEditAvatarPopupOpen} \n      onClose={closeAllPopups}\n      onUpdateAvatar={handleUpdateAvatar} />\n\n      <PopupWithForm name=\"delete\" title=\"Are you sure?\" buttonName=\"Yes\">\n        <input\n          type=\"hidden\"\n          className=\"form__input form__input_type_card-id\"\n          id=\"id\"\n          name=\"id\"\n        />\n      </PopupWithForm>\n\n      <ImagePopup card={selectedCard} isOpen={isImagePopupOpen} onClose={closeAllPopups} />\n\n      <Footer />\n      </CurrentUserContext.Provider>\n    </div>\n   \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}