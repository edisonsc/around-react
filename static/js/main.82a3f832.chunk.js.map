{"version":3,"sources":["images/vector-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Footer.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","name","link","id","length","Main","props","onEditAvatarClick","avatar","onEditProfileClick","about","onAddPlaceClick","cards","map","PopupWithForm","isOpen","onClose","title","onSubmit","children","buttonName","ImagePopup","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","htmlFor","placeholder","minLength","maxLength","required","value","onChange","target","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","onAddPlace","Footer","api","baseUrl","headers","this","_baseUrl","_headers","_handleResponse","bind","res","ok","json","Promise","reject","status","fetch","then","data","method","body","JSON","stringify","likeStatus","addLike","deleteLike","authorization","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isImagePopupOpen","setIsImagePopupOpen","setCards","selectedCard","setSelectedCard","setCurrentUser","closeAllPopups","getUser","catch","err","console","log","getInitialCards","item","Provider","clickedCard","changeLikeStatus","newCard","state","c","deleteCard","deletedCard","filter","setUser","addCard","setAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.82a3f832.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/vector-logo.4e8e0a1d.svg\";","import logo from \"../images/vector-logo.svg\";\n\nfunction Header() {\n  return (\n      <header className=\"header\">\n        <img src={logo} alt=\"logo\" className=\"logo\" />\n      </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { useContext } from \"react\";\n\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\n  const currentUser = useContext(CurrentUserContext);\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick () {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card)\n  }\n\n  // Checking if the current user is the owner of the current card\n  const isOwn = card.owner._id === currentUser._id;\n\n  // Creating a variable which you'll then set in `className` for the delete button\n  const cardDeleteButtonClassName = `photo-grid__delete-icon ${\n    isOwn ? \"photo-grid__delete-icon_visible\" : \"photo-grid__delete-icon_hidden\"\n  }`;\n\n//   // Check if the card was liked by the current user\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n// Create a variable which you then set in `className` for the like button\n const cardLikeButtonClassName = `opacity photo-grid__heart-icon ${\n  isLiked ? \"photo-grid__heart-icon_active\" : \"photo-grid__heart-icon_disabled\"\n }`; \n\n\n  return (\n      <li className=\"photo-grid__card\">\n        <button\n          aria-label=\"delete\"\n          type=\"button\"\n          className={cardDeleteButtonClassName}\n          onClick={handleDeleteClick}\n        ></button>\n        <img\n          className=\"photo-grid__image\"\n          alt={card.name}\n          src={card.link}\n          onClick={handleClick}\n        />\n        <div className=\"photo-grid__content\">\n          <h2 className=\"photo-grid__title\">{card.name}</h2>\n          <div className=\"photo-grid__likes\">\n            <button\n              aria-label=\"like\"\n              type=\"button\"\n              id=\"like\"\n              className={cardLikeButtonClassName}\n              onClick={handleLikeClick}\n            ></button>\n            <p className=\"photo-grid__text\">{card.likes.length}</p>\n          </div>\n        </div>\n      </li>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <div>\n      <main>\n        <section className=\"profile\">\n          <div className=\"profile__area\">\n            <button\n              type=\"button\"\n              aria-label=\"avatar\"\n              className=\"button profile__avatar-button\"\n              onClick={props.onEditAvatarClick}\n            >\n              <img\n                src={currentUser.avatar}\n                alt={`avatar of ${currentUser.name}`}\n                className=\"profile__image\"\n              />\n            </button>\n            <div className=\"profile__name-area\">\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\n              <button\n                aria-label=\"edit\"\n                type=\"button\"\n                className=\"button profile__edit-button opacity\"\n                onClick={props.onEditProfileClick}\n              ></button>\n              <p className=\"profile__title\">{currentUser.about}</p>\n            </div>\n          </div>\n          <button\n            aria-label=\"add\"\n            type=\"button\"\n            className=\"button profile__add-button opacity\"\n            onClick={props.onAddPlaceClick}\n          ></button>\n        </section>\n\n        <section className=\"images\">\n          <ul className=\"photo-grid\">\n            {props.cards.map((card, _id) => (\n              <Card\n                name={card.name}\n                link={card.link}\n                owner={card.owner}\n                _id={card._id}\n                likes={card.likes}\n                card={card}\n                onCardClick={props.onCardClick}\n                onCardLike={props.onCardLike}\n                onCardDelete={props.onCardDelete}\n                key={card._id}\n              />\n            ))}\n          </ul>\n        </section>\n      </main>\n    </div>\n  );\n}\n\nexport default Main;\n","function PopupWithForm(props) {\n  return (\n      <section\n        className={`popup popup_type_${props.name} ${\n          props.isOpen && \"popup_opened\"\n        }`}\n      >\n        <div className=\"popup__container\">\n          <button\n            aria-label=\"close\"\n            type=\"button\"\n            className=\"popup__close-button opacity\"\n            onClick={props.onClose}\n          ></button>\n          <h2 className=\"popup__heading\">{props.title}</h2>\n          <form\n            className=\"form\"\n            name={`${props.name}-form`}\n            onSubmit={props.onSubmit}\n          >\n            {props.children}\n            <button\n              type=\"submit\"\n              className=\"form__button opacity\"\n            >\n              {props.buttonName}\n            </button>\n          </form>\n        </div>\n      </section>\n  );\n}\n\nexport default PopupWithForm;\n","function ImagePopup({ card, isOpen, onClose }) {\n  return (\n    <div\n      className={`popup popup_type_${card.name} ${isOpen && \"popup_opened\"}`}\n    >\n      <div className=\"popup__container popup__container_type_preview\">\n        <button\n          aria-label=\"close\"\n          type=\"button\"\n          className=\"popup__close-button popup__close-button_type_preview opacity\"\n          onClick={onClose}\n        ></button>\n        <img src={card.link} alt={card.name} className=\"popup__image\" />\n        <h2 className=\"popup__caption\">{card.name}</h2>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n  // Subscription to the context\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n\n  // After loading the current user from the API\n  // their data will be used in managed components.\n  React.useEffect(() => {\n    if (currentUser) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }\n  }, [currentUser, props.isOpen]);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit\"\n      title=\"Edit profile\"\n      buttonName=\"Save\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      onUpdateUser={props.onUpdateUser}\n    >\n      <label htmlFor=\"name\" className=\"form__label\">\n        <input\n          type=\"text\"\n          className=\"form__input form__input_type_name\"\n          id=\"name\"\n          name=\"name\"\n          placeholder=\"Name\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          required\n          value={name || \"\"}\n          onChange={handleNameChange}\n        />\n        <span className=\"form__error\" id=\"name-error\" />\n      </label>\n      <label htmlFor=\"about\" className=\"form__label\">\n        <input\n          type=\"text\"\n          className=\"form__input form__input_type_title\"\n          id=\"about\"\n          name=\"about\"\n          placeholder=\"About me\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          required\n          value={description || \"\"}\n          onChange={handleDescriptionChange}\n        />\n        <span className=\"form__error\" id=\"about-error\" />\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef(null);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  }\n\n\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Change profile picture\"\n      buttonName=\"Save\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      onUpdateAvatar={props.onUpdateAvatar}\n    >\n      <label htmlFor=\"link\" className=\"form__label\">\n        <input\n          type=\"url\"\n          className=\"form__input form__input_type_link\"\n          id=\"avatarLink\"\n          name=\"avatarLink\"\n          placeholder=\"Profile image link\"\n          ref={avatarRef}\n          required\n        />\n        <span className=\"form__error\" id=\"avatarLink-error\" />\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n   function handleTitleChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddPlace({\n      name: name,\n      link: link,\n    });\n  }\n\n  React.useEffect(() => {\n    setName('');\n    setLink('');\n}, [props.isOpen]);\n\n\n  return (\n    <PopupWithForm\n      name=\"add\"\n      title=\"New Place\"\n      buttonName=\"Create\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onAddPlace={props.onAddPlace}\n      onSubmit={handleSubmit}\n    >\n      <label htmlFor=\"name\" className=\"form__label\">\n        <input\n          type=\"text\"\n          className=\"form__input form__input_type_place\"\n          id=\"place-name\"\n          name=\"name\"\n          placeholder=\"Title\"\n          minLength=\"1\"\n          maxLength=\"30\"\n          required\n          value={name}\n          onChange={handleTitleChange}\n        />\n        <span className=\"form__error\" id=\"place-name-error\" />\n      </label>\n      <label htmlFor=\"link\" className=\"form__label\">\n        <input\n          type=\"url\"\n          className=\"form__input form__input_type_link\"\n          id=\"link\"\n          name=\"link\"\n          placeholder=\"Image link\"\n          required\n          value={link}\n          onChange={handleLinkChange}\n        />\n        <span className=\"form__error\" id=\"link-error\" />\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","function Footer() {\n  return (\n      <footer className=\"footer\">\n        <p className=\"footer__text\">&#169; 2021 Around The U.S.</p>\n      </footer>\n  );\n}\n\nexport default Footer;\n","class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n    this._handleResponse = this._handleResponse.bind(this);\n  }\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Error: ${res.status}`);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}cards`, {\n      headers: this._headers,\n    }).then(this._handleResponse);\n  }\n\n  addCard(data) {\n    return fetch(`${this._baseUrl}cards`, {\n      headers: this._headers,\n      method: \"POST\",\n      body: JSON.stringify(data),\n    }).then(this._handleResponse);\n  }\n\n  deleteCard(_id) {\n    return fetch(`${this._baseUrl}cards/${_id}`, {\n      headers: this._headers,\n      method: \"DELETE\",\n      body: JSON.stringify({\n        _id,\n      }),\n    }).then(this._handleResponse);\n  }\n\n  addLike(_id) {\n    return fetch(`${this._baseUrl}cards/likes/${_id}`, {\n      headers: this._headers,\n      method: \"PUT\",\n      body: JSON.stringify({\n        _id,\n      }),\n    }).then(this._handleResponse);\n  }\n\n  deleteLike(_id) {\n    return fetch(`${this._baseUrl}cards/likes/${_id}`, {\n      headers: this._headers,\n      method: \"DELETE\",\n      body: JSON.stringify({\n        _id,\n      }),\n    }).then(this._handleResponse);\n  }\n\n  changeLikeStatus(_id, likeStatus) {\n    if (likeStatus) {\n      return this.addLike(_id);\n    } else {\n      return this.deleteLike(_id);\n    }\n  }\n\n  getUser() {\n    return fetch(`${this._baseUrl}users/me`, {\n      headers: this._headers,\n    }).then(this._handleResponse);\n  }\n\n  setUser(name, about) {\n    return fetch(`${this._baseUrl}users/me`, {\n      headers: this._headers,\n      method: \"PATCH\",\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    }).then(this._handleResponse);\n  }\n\n  getAvatar() {\n    return fetch(`${this._baseUrl}users/me/avatar`, {\n      headers: this._headers,\n      method: \"GET\",\n    }).then(this._handleResponse);\n  }\n\n  setAvatar(avatar) {\n    return fetch(`${this._baseUrl}users/me/avatar`, {\n      headers: this._headers,\n      method: \"PATCH\",\n      body: JSON.stringify({\n        avatar,\n      }),\n    }).then(this._handleResponse);\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-11/\",\n  headers: {\n    authorization: \"ce0cfad9-c022-44c4-8673-897f4eaf9eed\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n","import { useState, useEffect } from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport Footer from \"./Footer\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [cards, setCards] = useState([]);\n  const [selectedCard, setSelectedCard] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n\n  useEffect(() => {\n    api\n      .getUser()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => console.log(`Error: ${err}`));\n  }, []);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(clickedCard) {\n    setSelectedCard(clickedCard);\n    setIsImagePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setSelectedCard({});\n  }\n\n  function handleUpdateUser({ name, about }) {\n    api\n      .setUser(name, about)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(`Error: ${err}`));\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    api\n      .setAvatar(avatar)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(`Error: ${err}`));\n  }\n\n  useEffect(() => {\n    api\n      .getInitialCards()\n      .then((data) => {\n        setCards(\n          data.map((item) => ({\n            name: item.name,\n            link: item.link,\n            likes: item.likes,\n            _id: item._id,\n            owner: item.owner,\n          }))\n        );\n      })\n      .catch((err) => console.log(`Error: ${err}`));\n  }, []);\n\n  function handleCardLike(card) {\n    // Check one more time if this card was already liked\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    // Send a request to the API and getting the updated card data\n    api\n      .changeLikeStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => console.log(`Error: ${err}`));\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then((deletedCard) => {\n        setCards((state) =>\n          state.filter((deletedCard) => deletedCard._id !== card._id)\n        );\n      })\n      .catch((err) => console.log(`Error: ${err}`));\n  }\n\n  function handleAddPlace(data) {\n    api.addCard(data).then((newCard) => {\n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    })\n    .catch((err) => console.log(`Error: ${err}`));\n  }\n\n  return (\n    <div className=\"root\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main\n          onEditAvatarClick={handleEditAvatarClick}\n          onEditProfileClick={handleEditProfileClick}\n          onAddPlaceClick={handleAddPlaceClick}\n          onCardClick={handleCardClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n        />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlace}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <PopupWithForm name=\"delete\" title=\"Are you sure?\" buttonName=\"Yes\">\n          <input\n            className=\"form__input form__input_type_card-id\"\n            id=\"id\"\n            name=\"id\"\n          />\n        </PopupWithForm>\n\n        <ImagePopup\n          card={selectedCard}\n          isOpen={isImagePopupOpen}\n          onClose={closeAllPopups}\n        />\n\n        <Footer />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}